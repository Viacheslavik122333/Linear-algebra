\section{Тензоры}
\subsection{Основные определения и первоначальные конструкции}
Если векторное пространство $V$ над $F$ конечномерно, то $(V^*)^*\simeq V$. Соглашение: векторное пространство $V$ отождествляется с пространством линейных функций на $V^*$.
Пока что будем считать что поле $F$ - произвольное.
\begin{definition}
    Пусть $p,q\in \N_0$. Тензор типа $(p,q)$ - это полилинейная функция 
    \[f: \underbrace{V\times \dots\times V}_p \times \underbrace{V^*\times \dots\times V^*}_q \to F\]
    $p$ - ковариантная валентность тензора $f,\ q$ - контрвариантная валентность тензора $f,\ p+q$ - ранг тензора $f$. 
    Множество всех тензоров типа $(p,q)$ обозначают 
    \[T^q_p(v)=T^q_p\]
\end{definition} 
По определению $T_0^0 := F$.
\subsubsection*{Линейные операции на $T^q_p$}
\begin{enumerate}
    \item Сложение: 
    \begin{multline*}
        f_1(v_1,\dots,v_p,u_1,\dots,u_q)+f_2(v_1,\dots,v_p,u_1,\dots,u_q)=\\
        =(f_1+f_2)(v_1,\dots,v_p,u_1,\dots,u_q)
    \end{multline*}
    \item Умножение на $\lambda\in F$:
    \[(\lambda f)(v_1,\dots,v_p,u_1,\dots,u_q)=\lambda f(v_1,\dots,v_p,u_1,\dots,u_q)\] 
    \item Произведение тензоров:\\
    Пусть $f_1\in T_p^q(V),\ f_2\in T_r^s(V)$, определим функцию:
    \begin{multline*}
        (f_1\otimes f_2)(v_1,\dots,v_p,v_{p+1},\dots,v_{p+r},u_1,\dots,u_q,u_{q+1},\dots,u_{q+s})=\\
        =f_1(v_1,\dots,v_p,u_1,\dots,u_q)\cdot f_2(v_{p+1},\dots,v_{p+r},u_{q+1},\dots,u_{q+s})
    \end{multline*}
\end{enumerate}
\begin{subtheorem}
    $T_p^q$ с введенными операциями - векторное пространство над полем $F$.
\end{subtheorem}
\begin{subtheorem}\tab
    \begin{enumerate}
        \item $f_1\otimes f_2\in T_{p+r}^{q+s}(V)$
        \item Операция $\otimes$ ассоциативна
        \item $(\alpha_1f_1+\alpha_2f_2)\otimes f_3=\alpha_1(f_1\otimes f_3)+\alpha_2(f_2\otimes f_3)$ %ЛЕВАЯ ДИСТРИБУТИВНОСТЬ ТОЖЕ ВЕРНА СЛАВА ДОПИШИ ПЖ :)))))
    \end{enumerate}
\end{subtheorem}
\subsubsection*{Отождествление тензоров малых валентностей с известными объектами из линейной алгебры}
\begin{theorem}\tab
    \begin{enumerate}
        \item $T_1^0(V)=V^*$
        \item $T_0^1(V)=(V^*)^* \equiv V$
        \item $T_2^0(V)$ - билинейные функции
        \item $T_1^1(V) \equiv L(V)$ - линейные операторы на $V$.
    \end{enumerate}
\end{theorem} 
\begin{proof}
    Докажем, что тензор типа (1,1) - это линейный оператор.\\
    Пусть $f\in T_1^1(V)$, то есть $f=f(v,u)$, где $v\in V,\ u\in V^*$. Изоморфизм между $V$ и $V^{**}$ задавался правилом:
    \[ \forall v\in V: \phi_v \text{ - линейная функция на } V^*: \forall u\in V^*\ \ \phi_v(u)=u(v)\]
    При фиксированном $v$ $f(v,u)$ - линейная функция на $V^*$, а значит,
    \[\exists y_v = \phi^{-1}(f(v, u))\]
    где $y_v\in V$. Соответствие $v\xrightarrow{\psi} y_v$ является линейным оператором на $V$, так как 
    \[f(v_1+v_2,u)=u(y_{v_1+v_2})\]
    и 
    \[f(v_1+v_2,u)=f(v_1,u)+f(v_2,u)=u(y_{v_1})+u(y_{v_2})=u(y_{v_1}+y_{v_2})\]
    Также очевидно, что 
    \[\psi(\lambda v)=\lambda\psi(v)\]
    Обратно: если $\phi: V\to V$ - линейный оператор, то $f(v,u):=u(\phi(v))$ - функция, линейная по $v$ и $u$, то есть $f\in T^1_1(V)$. Значит, можем установить изоморфизм
    \[T_1^1(V)\simeq L(V)\]
\end{proof}  
\subsubsection*{Правило Эйнштейна}
Некоторые индексы пишутся снизу, а некоторые сверху: например, базисные векторы записываются как $e_i \ (= (e_1,...,e_n))$, а координаты векторов имеют верхние индексы, а также $e^i (=(e^1,...,e^n))$ - дуальный базис.\\
Также опускается знак суммирования. если один и тот же индекс повторяется сверху и снизу: $x = x^ie_i$ подразумевает $\sum \limits_{i=1}^n x_ie_i$.

Матрицы линейных операторов по этому правилу можно записывать так: $A_\phi = (a_j^i)$, где $i$ - номер строки, $j$ - номер столбца. Также:
\begin{enumerate}
    \item $\textup{tr} A_\phi = a_i^i$ (след матрицы);
    \item $Y = A_\phi X \Longrightarrow y^i = a_j^ix^j$ (умножение матрицы на вектор);
    \item $b(x, y) = b_{ij}x^iy^j$ (билинейная форма)
\end{enumerate}

\subsubsection*{Построение базиса в пространстве $T_p^q(V)$}
Для любых значений $\{i_1,\dots i_p,j_1,\dots,j_q\}\in \{1,\dots,n\}$ и чисел $p,q \in \N_0$ можно определить тензоры:
\[e^{i_1}\otimes \dots \otimes e^{i_p}\otimes e_{j_1}\otimes \dots\otimes e_{j_q}\in T_p^q(V)\]
\begin{multline*}
    (e^{i_1}\otimes ... \otimes e^{i_p}\otimes e_{j_1}\otimes ... \otimes e_{j_q})(e_{k_1}, ... ,e_{k_p},e^{l_1},...,e^{l_q})=\\
    =e^{i_1}(e_{k_1})\cdot ... \cdot e^{i_p}(e_{k_p})\cdot e_{j_1}(e^{l_1})\cdot ... \cdot e_{j_q}(e^{l_q}) = \delta_{k_1}^{i_1}\cdot ... \cdot \delta_{k_p}^{i_p} \cdot \delta_{j_1}^{l_1}\cdot ... \cdot \delta_{j_q}^{l_q} (*)
\end{multline*}
\begin{theorem}
    Тензоры вида $\{e^{i_1}\otimes \dots \otimes e^{i_p}\otimes e_{j_1}\otimes \dots\otimes e_{j_p}\}$ образуют базис в пространстве $T_p^q(V)$, причем
    \[\dim{(T_p^q)}(V)=n^{p+q}\]
\end{theorem}
\begin{proof}
    Пусть $f \in T_p^q(V)$. Вычислим $f(v_1,...,v_p; u^1,...,u^q)$:
    \[v_i = v_i^{k_i}e_{k_i}, \ i = 1,...,p; \\ u^j = u_{l_j}^j e^{l_j}, \ j = 1,...,q;\]
    Тогда:
    \begin{multline*}
        f(...,v_i^{k_i}e_{k_i},...; \ ...,u_{l_j}^j e^{l_j},...) = f(e_{k_1},...,e_{k_p}; e^{l_1},...,e^{l_q})v_1^{k_1}...v_p^{k_p}u_{l_1}^1...u_{l_q}^q =\\= f(e_{k_1},...,e_{k_p}; e^{l_1},...,e^{l_q}) e^{k_1}\otimes...\otimes e^{k_p}\otimes e_{l_1}\otimes...\otimes  e_{l_q} (v_1,...,v_p; u^1,...,u^q) 
    \end{multline*}
    в силу равенства $(*)$. Это значит, что
    \[f = f(e_{k_1},...,e_{k_p}; e^{l_1},...,e^{l_q})(e^{k_1}\otimes...\otimes e^{k_p}\otimes e_{l_1}\otimes...\otimes e_{l_q})\]
    Коэффициенты, очевидно, определены однозначно при фиксированном базисе $e_1,...,e_n$, а значит, $\{e^{i_1}\otimes \dots \otimes e^{i_p}\otimes e_{j_1}\otimes \dots\otimes e_{j_p}\}$ - базис в пространстве $T_p^q(V)$.  
\end{proof}
\begin{definition}
    Матрицей тензора $f$ называется матрица $A_{i_1,...,i_p}^{j_1,...,j_q}$ такая, что $a_{k_1,...,k_p}^{l_1,...,l_q} := f(e_{k_1},...,e_{k_p}; e^{l_1},...,e^{l_q})$.
\end{definition}
\subsubsection*{Закон изменения матрицы координат тензора при замене базиса}
Пусть $(e'_1,...,e'_n) = (e_1,...,e_n)C$, $\begin{pmatrix} e'^1 \\ \vdots \\ e'^n \end{pmatrix} = D\begin{pmatrix} e^1 \\ \vdots \\ e^n \end{pmatrix}$. Тогда:
\[DC = D\begin{pmatrix} e^1 \\ \vdots \\ e^n \end{pmatrix}(e_1,...,e_n)C = \begin{pmatrix} e'^1 \\ \vdots \\ e'^n \end{pmatrix}(e'_1,...,e'_n) = E \Rightarrow D = C^{-1}\]
Отсюда:
\[f = A_{i_1,...,i_p}^{j_1,...,j_q}x_1^{i_1}...x_p^{i_p}u_{j_1}^1...u_{j_q}^q\]
\[x_k^{i_k} = c_{i'_k}^{i_k}{x'}^{i'_k}_k; \ \ u_{j_l}^{l} = d_{j_l}^{j'_l}u'^l_{j'_l}\]
Отсюда новые коэффициенты линейной формы:
\[(u'_1,...,u'_n) = (u_1,...,u_n)C \Longrightarrow (u_1,...,u_n) = (u'_1,...,u'_n)D\]
Итак, в новом базисе
\[f = A_{i_1,...,i_p}^{j_1,...,j_q} c_{i'_1}^{i_1}...c_{i'_p}^{i_p}d_{j_1}^{j'_1}...d_{j_q}^{j'_q}{x'}^{i'_1}_1...{x'}^{i'_p}_p {u'}^{1}_{j'_1}...{u'}^{q}_{j'_q}\]
\textbf{Пупупу.}
\subsection{Свёртка тензора}
\begin{example}
    \begin{enumerate}
        \item $A = a^i_j \in T_1^1(V): \ \ \textup{tr} A = a_i^i$\\
        Из тензора $a^i_j$ получили тензор $\textup{tr} A \in T_0^0$.
        \item Действие оператора на вектор, т.е. умножение матрицы на столбец:
        \[A = a^i_k, \ x = x^j \Longrightarrow A \otimes X = a^i_kx^j, \ \ j := k \Longrightarrow a^i_kx^k\]
        $A \in T_1^1, X \in T^1_0 \Longrightarrow A \otimes X \in T^2_1$ - из него получили тензор $\in T^1_0$.
        \item Произведение матриц:
        \[A = a^i_k, \ B = b^l_j \Longrightarrow A \otimes B = a^i_kb^l_j, \ \ l := k \Longrightarrow a^i_kb^k_j = (AB)^i_j\]
        Из тензора $\in T^2_2$ получили тензор $T^1_1$.
    \end{enumerate}
\end{example}
\begin{definition}
    Пусть $f \in T^q_p(V)$, причём $p \geqslant 1, q \geqslant 1$, т.е. $f(x_1,...,x_p, u^1,...,u^q)$. Выберем пару индексов $s \in \{1,...,p\}, r\in \{1,...,q\}$ и рассмотрим функцию 
    \[\overline{f}(x_1,...,\hat{x}_s,...,x_p,u^1,...,\hat{u}'^r,...,u^q) := \sum \limits_{k=1}^n f(x_1,...,\underbrace{e_k}_{s},...,x_p,u^1,...,\underbrace{e^k}_{r},...,u^q)\] 
    Ясно, что $\overline{f} \in T^{q-1}_{p-1}$.\\
    Типичное обозначение: $\overline{f} = \textup{tr}_s^r(f)$\\
    В матрицах: $\overline{A}_{...}^{...}$ - матрица тензора $\overline{f}$, тогда
    \[\overline{A}_{i_1,...,\hat{i}_s,...i_p}^{j_1,...,\hat{j}_r,...,j_q} = A_{i_1,...,k,...i_p}^{j_1,...,k,...,j_q}\]
\end{definition}
Если $p=q$, то тензор можно свернуть по всем парам индексов и получить инвариант (тензор $\in T_0^0$).\\
Можно сначала рассмотреть произведение тензоров, а после этого свернуть получившийся тензор.
\begin{example1}
    Пусть $\mathcal{A}$ - конечномерная (как векторное пространство) алгебра с операциями $+, \lambda\cdot, \cdot, \ e_1,...,e_n$ - линейный базис (базис в.п.).\\
    Тогда $\forall i,j e_ie_j = a_{ij}^ke_k$, где $a_{ij}^k$ - структурные константы - составляют структурный тензор типа (2,1).
\end{example1}
\begin{exercise}
    Найдите структурный тензор для $M_n(F)$.
\end{exercise}
\subsection{Симметрические, кососимметрические тензоры}
\begin{definition}
    Тензор $f \in T_p^0(V)$ - симметрический, если $\forall x_1,...,x_p \in V, \sigma \in S_p$
    \[f(x_{\sigma(1)},...,x_{\sigma(p)}) = f(x_1,...,x_p) \ \ (1)\]
    Аналогично, если $g \in T_0^q(V)$, то $g$ - симметрический, если $\forall u^1,...,u^q \in V^*, \sigma \in S_p$
    \[f(u^{\sigma(1)},...,u^{\sigma(p)}) = f(u^1,...,u^p) \ \ (1')\] 
    Тензор $f \in T_p^0(V)$ $(\textup{char} F \neq 2)$ - кососимметрический, если $\forall x_1,...,x_p \in V, \sigma \in S_p$
    \[f(x_{\sigma(1)},...,x_{\sigma(p)}) = \sgn(\sigma)f(x_1,...,x_p) \ \ (2)\]
    Аналогично для $T_0^q(V)$.
    Обозначения:\\
    $T_p^+$ - симметрические тензоры типа (p, 0);\\
    $T^{q, -}$, либо $\Lambda^q(V^*)$ - кососимметрические тензоры типа (0, q)\\
    Очевидно, для определения кососимметричности достаточно выполнения условия $(2)$ только для транспозиций.
\end{definition}
Очевидно, что $T_2^0 = T_2^+ \oplus T_2^-$
\begin{exercise}
    Доказать, что такого разложения для $T_p^0$ нет при $p > 2$.
\end{exercise}
\subsubsection*{Тензорная алгебра пространства V}
Определим $T(V) = \circledplus \limits_{q = 0}^\infty T_0^q(V)$ - множество финитных последовательностей тензоров $(f_0,...,f_s, 0,...)$. $f_i \in T_0^i, f_j \in T_0^j \Longrightarrow f_i \otimes f_j \in T_0^{i+j}$.\\
Последовательности перемножаются по правилу перемножения многочленов (от одной переменной).
\subsubsection*{Симметризация и альтернирование}
Далее $\textup{char} F = 0$.
\begin{enumerate}
    \item Симметризация: для тензора $f \in T_p^0(V)$:
    \[\textup{Sym}(f)(x_1,...,x_p) = \frac{1}{p!}\sum \limits_{\sigma \in S_p}f(x_{\sigma(1)},...,x_{\sigma(p)})\]
    Свойства:
    \begin{enumerate}
        \item $\textup{Sym}: T_p^0(V) \rightarrow T_p^0(V)$ - линейное отображение, $\textup{Im }\textup{Sym} = T_p^+(V)$;
        \item $\textup{Sym}(\textup{Sym}(f)) = \textup{Sym}(f)$, т.е. $\textup{Sym}^2 = \textup{Sym}$.
    \end{enumerate}
    \item Альтернирование: для тензора $f \in T_p^0(V)$:
    \[\textup{Alt}(f)(x_1,...,x_p) = \frac{1}{p!}\sum \limits_{\sigma \in S_p} \sgn(\sigma)f(x_{\sigma(1)},...,x_{\sigma(p)})\]
    $\textup{Alt}(f)$ - кососимметрический тензор, обозначим $g = \textup{Alt}(f)$ - полилинейная функция $\in T_p^0(V)$.\\
    Тогда $g(x_1,...,x_p);\ \forall \pi \in S_p$ рассмотрим
    \begin{multline*}
        g(x_{\pi(1)},...,x_{\pi(p)}) = \frac{1}{p!}\sum \limits_{\sigma \in S_p} \sgn(\sigma)f(x_{\sigma(\pi(1))},...,x_{\sigma(\pi(p))}) =\\= \frac{1}{p!}\sgn(\sigma)\sum \limits_{\tau \in S_p} \sgn(\tau)f(x_{\tau(1)},...,x_{\tau(p)}) = \sgn(\pi)g(x_1,...,x_p)
    \end{multline*}
     Свойства:
    \begin{enumerate}
        \item $\textup{Alt}: T_p^0(V) \rightarrow T_p^0(V)$ - линейное отображение, $\textup{Im }\textup{Alt} = \Lambda_p$ ($\Lambda(V) = \circledplus \limits_{p = 0}^\infty \Lambda_p$ - как в.п.);
        \item $\textup{Alt}^2 = \textup{Alt}$.
    \end{enumerate}
\end{enumerate}
\subsubsection*{Внешнее произведение кососимметрических тензоров}
\begin{definition}
    Пусть $f \in T_p^0, g \in T_r^0$. Тогда $\textup{Alt}(f) \in \Lambda_p, \ \textup{Alt}(g) \in \Lambda_r$, и
    \[f \wedge g := \textup{Alt}(f \otimes g) \in \Lambda_{p+r}\]
\end{definition}
\begin{remark}
    Если $f, g$ кососимметрические, то $f \otimes g$ не обязано быть кососимметрическим.
\end{remark}
Из определения следует, что $\Lambda_p \wedge \Lambda_q \subseteq \Lambda_{p+q}$
