%chktex-file 1 %chktex-file 3 %chktex-file 8 %chktex-file 9 %chktex-file 10 %chktex-file 11 %chktex-file 12 %chktex-file 13 %chktex-file 16 %chktex-file 17 %chktex-file 18 %chktex-file 25 %chktex-file 26 %chktex-file 35 %chktex-file 36 %chktex-file 37 %chktex-file 40 %chktex-file 44 %chktex-file 45 %chktex-file 49

\section{Евклидовы аффинные пространства}
\begin{definition}
    Аффинное пространство $(\mathbb{A},\mathcal{E})$ - евклидово, если $\mathcal{E}$ - евклидово пространство (над $\R$), $\mathcal{E}$ ассоциировано с пространством точек $\mathbb{A}$.\\
    Расстояние определяется как
    \[\rho(p,q)=|\overline{pq}|\]
    Для трех точек $a,b,c$ угол между лучами $(ab)$ и $(ac)$ - это угол между векторами $\overline{ab}$ и $\overline{ac}$ (если они ненулевые).
\end{definition} 

\begin{definition} $\\$
    Расстояние от точки $p_1\in \mathbb{A}$ до плоскости $P=p_0+U,\ V\supset U\ne \{0\}$.\\
    Либо $p_1\in P$, либо $\overline{p_0p_1}\not\in U$.\\
    Можно рассматривать подпространство:
    \[ \widetilde{U}=\langle \overline{p_0p_1},U \rangle\supset V,\ \overline{p_0p_1}=y+z,\ y\in U,\ z\in U^{\perp}\]
    \[ \rho(p_1, P) = \min|\overline{p_1q}|=|z|\]
\end{definition} 

\begin{definition}
    Параллелепипед с одной вершиной $p_0$ и ребрами $a_1,\dots,a_m$, где $m\leq n,\ a_i\in \mathcal{E}$:
    \[\Pi_{\langle p_0,a_1,\dots,a_m \rangle}=\{p_0+\sum\limits_{i=1}^{m}\lambda_i a_i: 0\leq \lambda_i\leq 1\}\]
\end{definition} 
\begin{definition}
    Определим $m$-мерный объем рекурсивно:
    для $m=1$:
    \[V(\Pi_{1})=|a_1|\]
    \[V(\Pi_m)=(a_m)_{\perp}\cdot V_{\{p_0,a_1,\dots,a_{m-1}\}}\]
    где $(a_m)_{\perp}$ - ортогональная составляющая ребра $a_m$ отностительно подпространства $\langle a_1,\dots, a_{m-1} \rangle$.
\end{definition} 

\begin{remark}
    Пусть $a_1,\dots,a_m$ линейно независимы. Тогда:
    \[V_{\{p_0,a_1,...,a_m\}}=\sqrt{|G_{\{a_1,...,a_m\}}|}\]
    Можно ортогонализовать векторы $a_1,\dots,a_m$, причем матрица перехода от\\
    $a_1,\dots,a_m$ к $b_1,\dots,b_m$, где $b_1,\dots,b_m$ получены из алгоритма ортогонализации, выглядит так:
    \[C=
    \begin{pmatrix}
        1 & \null & *\\
        \null & \ddots & \null\\
        0 & \null & 1
    \end{pmatrix}\]
    \[|G_{\{a_1,\dots,a_m\}}| = |G_{\{b_1,\dots,b_m\}}| = 
    \begin{vmatrix}
        |b_1^2| & \null & 0\\
        \null & \ddots & \null\\
        0 & \null & |b^2_m|
    \end{vmatrix} 
    = |b_1|^2 \cdot ... \cdot |b_m|^2\]
    Значит:
    \[\rho(p_1,P)=\frac{\sqrt{|G_{\{a_1,\dots,a_m,\overline{p_0p_1}\}}|}}{\sqrt{|G_{\{a_1,\dots,a_m\}}|}}\]
    Если $P_1=p_1+U_1, P_2=p_2+U_2$ - две аффинные плоскости в аффинном пространстве, то назовем:
    \[\rho(P_1,P_2)=\inf\{|\overline{pq}|: p\in P_1, q\in P_2\}\]
\end{remark} 
\begin{theorem}
    $\rho(P_1,P_2)$ равно длине ортогональной составляющей вектора $\overline{p_1p_2}$ относительно $U_1+U_2$
\end{theorem} 
\begin{remark} $\\$ 
    Если $P_1\cap P_2\ne \emptyset$, то $\rho(P_1,P_2)=0,\ \overline{p_1p_2} \in U_1+U_2$, так что $(p_1,p_2)_{\perp}=0$, что не противоречит утверждению теоремы.
\end{remark} 
\begin{proof}
    Обозначим $W=U_1+U_2$, тогда $\mathcal{E}=W\oplus W^{\perp}$. Обозначим 
    \[\overline{p_1p_2}=v=v_{\parallel}+v_{\perp},\ v_{\parallel}\in W,\ v_{\perp}\in W^{\perp}\] 
    Попробуем доказать, что существуют 
    \[a=p_1+u^0_1\in P_1,\ b=p_2+u^0_2\in P_2\] 
    такие, что $\overline{ab}=v_{\perp}$. \\
    Выберем произвольные точки $x=p_1+u_1\in P_1,\ y=p_2+u_2\in P_2$. Тогда:
    \begin{multline*}
        \rho^2(x,y)=|\overline{yx}|^2 = |x-y|^2=|\overline{p_2p_1}+u_1-u_2|^2 =\\
        = |v+u_2-u_1|^2 =|(v_{\parallel}+u_2-u_1)+v_{\perp}|^2\geq |v_{\perp}|^2
    \end{multline*}
    где $v_{\perp}\in (U_1+U_2)^{\perp}$. Равенство достигается, если $v_{\parallel}=u_1-u_2 \Rightarrow \exists\ u_1, u_2$ такие, что $a=p_1+u_1,\ b=p_2+u_2: |\overline{ab}|=v_{\perp}$.
\end{proof} 
\begin{consequense}
    Прямая $l=a+\langle \overline{ab} \rangle=(p_1+u_1)+\langle (\overline{p_1p_2})_{\perp} \rangle$ является общим перпендикуляром этих двух плоскостей.
\end{consequense} 
%ПАРАГРАФ
\subsection{Аффинные отображения}
Пусть $(\mathbb{A}_1,V_1)$ и $(\mathbb{A}_2, V_2)$ - аффинные пространства над одним и тем же полем.
\begin{definition}
    Отображение $\Phi: \mathbb{A}_1 \to \mathbb{A}_2$ называется аффинно-линейным отображением, если существует линейное отображение $\phi: V_1\to V_2$ такое, что
    \[\forall a,b\in \mathbb{A}_1:\ \overline{\Phi(a)\Phi(b)}=\phi(\overline{ab}) \eqno(1)\]
    Такое определение равносильно следующему:
    \[\forall a,b\in \mathbb{A}_1 : \ \Phi(b)=\Phi(a)+\phi(\overline{ab}) \eqno(2)\]
\end{definition} 
\begin{subtheorem}
    Если задано $\Phi$ и некоторая точка $a_1 \in \A_1$, то $\phi : V_1 \rightarrow V_2$ определяется однозначно.
\end{subtheorem}
\begin{proof}
    Любой вектор $v \in V_1$ можно отложить от точки $a_1$. Пусть $v = \overline{a_1b_1}$. Тогда:
    \[\Phi(a_1)+\phi(v)=\Phi(b_1)=\Phi(a_1)+\phi'(v) \Longrightarrow \phi(v) = \phi'(v) \ \ \forall v \in V_1 \Longrightarrow \phi = \phi'\]
\end{proof}
\begin{subtheorem} \tab
    \begin{enumerate}
        \item Пусть 
        \[\mathbb{A}_1 \xrightarrow{\Phi_1} \mathbb{A}_2 \xrightarrow{\Phi_2} \mathbb{A}_3\]
        где $\Phi_1,\Phi_2$ - аффинно-линейны, тогда
        \[\Phi=\Phi_2\cdot \Phi_1: \ \mathbb{A}_1\to \mathbb{A}_3\]
        тоже аффинно-линейно с линейной частью $\phi=\phi_2\cdot \phi_1$
        \item $\mathbb{A}_1 \xrightarrow{\Phi} \mathbb{A}_2$ биективно $\Longleftrightarrow \phi$ - биективно, при этом $\Phi^{-1}$ является \\аффинно-линейным с линейной частью $\phi^{-1}$.
    \end{enumerate}
\end{subtheorem}
\subsubsection*{Координатная запись}
Выберем систему координат с началом в точке $O$ и базисом $e$
\[\forall b(x_1,\dots,x_n)=\overline{Ob},\ \Phi(O)=O'(x_1^0,\dots,x_n^0)\]
\[\Phi(b)=\Phi(O)+\phi(\overline{Ob})\]
Обозначим $\Phi(b)(y_1,\dots,y_m)$, тогда
\[\begin{pmatrix}
    y_1\\
    \vdots\\
    y_m
\end{pmatrix}
=
\begin{pmatrix}
    x_1^0\\
    \vdots\\
    x_m^0
\end{pmatrix}
+A_{\phi,e,f}\cdot
\begin{pmatrix}
    x_1\\
    \vdots\\
    x_n
\end{pmatrix}
\]
где $f$ - базис в $V_2$
\[\widetilde{A}=\begin{pmatrix}
    A_{\phi} & X_0\\
    0 & 1
\end{pmatrix}
\]
\[(2) \Longleftrightarrow \widetilde{Y}=\widetilde{A}\cdot \widetilde{X}\]
где
\[
\widetilde{X}=\begin{pmatrix}
    X\\
    1
\end{pmatrix},
\widetilde{Y}=\begin{pmatrix}
    Y\\
    1
\end{pmatrix}
\]
Подробная запись:
\[\begin{cases}
    y_1=a_{11}x_1+\dots+a_{1n}x_n+x_1^0,\\
    \vdots\\
    y_m=a_{m1}x_1+\dots+a_{mn}x_n+x_m^0
\end{cases}
\Longrightarrow
\begin{cases}
    dy_1=a_{11}dx_1+\dots+a_{1n}dx_n,\\
    \vdots\\
    dy_m=a_{m1}dx_1+\dots+a_{mn}dx_n
\end{cases}
\]
Отсюда
\[\begin{pmatrix}
    dy_1\\
    \vdots\\
    dy_m
\end{pmatrix}
=A_{\phi}\cdot
\begin{pmatrix}
    dx_1\\
    \vdots\\
    dx_n
\end{pmatrix}
\]
Значит, $A_{\phi}$ действует на столбцы
$\begin{pmatrix}
    dx_1\\
    \vdots\\
    dx_n
\end{pmatrix}$
как оператор $\phi$.\\
Обозначим:
\[DY=\begin{pmatrix}
    dy_1\\
    \vdots\\
    dy_m
\end{pmatrix},\
D: \mathbb{F}^n \to \mathbb{F}^m
\]
\begin{subtheorem} \tab
    \begin{enumerate}
        \item Пусть 
        \[\mathbb{A}_1 \xrightarrow{\Phi_1} \mathbb{A}_2 \xrightarrow{\Phi_2} \mathbb{A}_3\]
        где $\Phi_1,\Phi_2$ - аффинно-линейны, тогда
        \[\Phi=\Phi_2\cdot \Phi_1: \ \mathbb{A}_1\to \mathbb{A}_3\]
        тоже аффинно-линейны, причем 
        \[D(\Phi_2\cdot \Phi_1)=D\Phi_2\cdot D\Phi_1=\phi_2\cdot\phi_1\]
        \item $\Phi$ - биективно $\Longleftrightarrow \phi$ - биективно, и линейная часть $\Phi^{-1}$ есть $\phi^{-1}$
    \end{enumerate}
\end{subtheorem}
\begin{proof} \tab
    \begin{enumerate}
        \item Пусть $a_1, b_1\in \A_1$
        \[\Phi_1(b_1)=\Phi_1(a_1)+\phi_1(\overline{a_1b_1})\]
        \[\Phi_2(\Phi_1(b_1))=\Phi_2(\Phi_1(a_1))+\phi_2(\phi_1(\overline{a_1b_1}))\]
        \item Если $\phi$ - биективно, то $\forall\ \overline{a_2b_2}\in V_2$ существует единственный вектор
        \[\overline{a_1b_1}\in V_1: \phi^{-1}(\overline{a_1b_1})=\overline{a_2b_2}\]
        Определим отображение 
        \[\Phi': \A_2\to \A_1\]
        \[\Phi'(a_2)=a_1,\ \Phi'(b_2)=\Phi'(a_2)+\phi(\overline{a_2b_2})\]
        Значит, $\Phi'$ - аффинно-линейное отображение.
        \[\Phi(a_1)=a_2,\ \Phi(b_1)=\Phi(a_1)+\phi^{-1}(\overline{a_1b_1})=\Phi(a_1)+\overline{a_2b_2}=b_2\]
        \[(\Phi'\Phi)(a_1)=\Phi'(a_2)=a_1 \Longrightarrow \Phi'\Phi = \text{Id}_{\A_1}\] 
        Аналогично в другом порядке.
    \end{enumerate}
\end{proof} 
\subsection{Аффинные преобразования}
\begin{definition}
    Пусть $\Phi:\A\to \A$ - аффинно-линейное преобразование. Если $\Phi$ биективно, то будем называть его просто аффинным.
\end{definition} 
\begin{example}\tab
    \begin{enumerate}
        \item Параллельный перенос на вектор $v\in V$:
        \[\forall a\in \A:\ t_v(a)=a+v\]
        ясно что 
        \[t^{-1}_v=t_{-v},\ Dt_v=\text{Id}\]
        \item Гомотетия с центром в точке $O$:
        \[\forall v\in V:\ \Phi(O+v)=O+\lambda v\]
        где $\lambda\ne 0$ - коэффициент гомотетии.
        Например, при $\lambda=-1$ - это центральная симметрия.
    \end{enumerate}
\end{example}
\begin{theorem}
    Любое (биективное) аффинное преобразование $\Phi$ для любой точки $a\in \A$ представляется единственным образом в виде композиции 
    \[\Phi=t_v\cdot \Psi\]
    где $\Psi$ - аффинное преобразование такое, что $\Psi(a)=a$. 
\end{theorem} 
\begin{proof}
    Для заданной точки $a$ обозначим $v:=\overline{a\Phi(a)}$. Рассмотрим преобразование $\Psi = t_{-v}\cdot \Phi$, тогда $\Psi$ - аффинное.
    \[\Psi(a)=\Phi(a)-v=a \Longrightarrow \Phi=t_v\cdot \Psi\]
    Докажем единственность: Пусть 
    \[\Phi=t_v\cdot \Psi=t_{v'}\cdot \Psi',\ \Psi'(a)=a\]
    значит,
    \[t_{v-v'}=\Psi'\cdot\Psi^{-1},\ \text{т.к}\ \Psi'(a)=\Psi(a)=a\]
    отсюда
    \[\Psi'\cdot \Psi^{-1}(a)=a=a+(v-v') \Longrightarrow v'=v\]
    следовательно,
    \[\Psi'\cdot\Psi^{-1}=t_0=\text{Id}\]
\end{proof} 
\begin{theorem}
    Для любых двух наборов точек общего положения $\{a_0, a_1,\dots,a_n\}$ и $\{b_0,b_1,\dots,b_n\}$ существует единственное аффинное преобразование $\Phi: \A\to \A$\\
    $n$-мерного аффинного пространства такое, что
    \[\Phi(a_i)=b_i,\ \forall i=0,\dots,n\]
\end{theorem} 
\begin{proof}
    По условию $\{\overline{a_0a_1},\dots,\overline{a_0a_n}\}$ и $\{\overline{b_0b_1},\dots,\overline{b_0b_n}\}$ - базисы в ассоциированном с $\A$ векторном пространстве $V$. Значит, существует единственный линейный оператор $\phi: V\to V$ такой, что
    \[\phi(\overline{a_0a_i})=\overline{b_0b_i},\ i=0,\dots, n\]
    Тогда $\Phi(a_0+v)=b_0+\phi(v)$ - требуемое преобразование.
\end{proof} 
\subsection{Ортогональные преобразования (движения, изометрии)}
\begin{definition}
    Пусть $(\A,V)$ - аффинное евклидово пространство, то есть $V$ - евклидово пространство.\\
    Аффинное преобразование $\Phi: \A\to \A$ называется ортогональным или движением, если: 
    \[\forall a,b\in \A: \ \rho(\Phi(a),\Phi(b))=\rho(a,b),\ \text{т.е}\ |\overline{\Phi(a),\Phi(b)}|=|\overline{ab}|\]
\end{definition} 
\begin{exercise}
    Доказать, что если преобразование $\Phi: \A\to \A$ сохраняет расстояния между точками, то оно является аффинным, то есть $\forall a:$
    \[\Phi(a+v)=\Phi(a)+\phi(v)\]
    где $\phi$ - линейный оператор.
\end{exercise}
На этом основании можно называть $\Phi$ изометрией
\begin{remark}
    Если $\Phi$ - движение, то $D\Phi=\phi$ - ортогональный оператор:
    \[|\overline{\Phi(a),\Phi(b)}|=|\overline{ab}|,\ \Phi(b)=\Phi(a)+\phi(\overline{ab})\]
    значит,
    \[|\phi(\overline{ab})|=|\overline{ab}|,\ b=a+v,\ \forall v\in V\]
    следовательно, $\phi$ сохраняет длины векторов, а отсюда и скалярное произведение.
\end{remark}
Запишем $\Phi$ в координатах в ортонормированной системе координат.
\[Y=X_0+A_{\phi}\cdot X,\ A_{\phi}^T=A_{\phi}^{-1} \Longrightarrow \det{A_{\phi}}=\pm 1\]
поскольку
\[A_{\phi}^T\cdot A_{\phi}=E \Longrightarrow (\det{A_{\phi}})^2=1 \Longrightarrow \det{A_{\phi}}=\pm 1\]
\begin{definition}
    Движение называется собственным, если $\det{A_{\phi}}=1$ и несобственным, если $\det{A_{\phi}}=-1$
\end{definition} 
\begin{remark}
    (Уточнение к теореме о разложении: $\Phi=t_v\cdot\Psi$)\\
    Для любого движения $\Phi:\A\to \A$ с линейной частью $\phi$ существует $u\in V$ такой, что
    \[\Phi=t_u\cdot \Psi\]
    причем $\phi(u)=u$ (возможно, $u = 0$) и $\Psi$ имеет неподвижную точку.
\end{remark}
\begin{proof}
    Пусть $a\in \A$ - произвольная точка. Обозначим $v:=\overline{a\Phi(a)}$. Пусть $\lambda=1$ является собственным значением оператора $\phi$, то есть:
    \[U=\{u\in V:\ \phi(u)=u\}\ne \{0\},\]
    Обозначим $W=U^{\perp}$, тогда
    \[V=U\oplus W\]
    и имеет место разложение $v=u+w$, где $\phi(u)=u,\ (w,u)=0$. Определим $\Psi=t_{-u}\cdot \Phi$. Поищем для $\Psi$ неподвижную точку в виде $b=a+\widetilde{w},\ \widetilde{w}\in W$. Вычислим $\Psi(b) = \Psi(a+\widetilde{w})$:
    \begin{multline*}
        a+\widetilde{w} = \Psi(a+\widetilde{w})=t_{-u}(\Phi(a)+\phi(\widetilde{w}))=t_{-u}(a+v+\phi(\widetilde{w}))=\\
        =a+(v-u)+\phi(\widetilde{w})=a+w+\phi(\widetilde{w})=a+(w+\widetilde{w})+(\phi(\widetilde{w})-\widetilde{w})=\\
        =a+\widetilde{w}+w+(\phi-\text{Id})(\widetilde{w})
    \end{multline*}
    Из полученного равенства $(\phi-\text{Id})(\widetilde{w}) = -w$. Так как $\phi|_W$ не имеет собственного значения 1, $(\phi - \textup{Id})|_W$ невырожденный, а значит обратимый оператор. Тогда $\widetilde{w} = -(\phi-\text{Id})^{-1}(w)$, и тогда $a + \widetilde{w}$ - неподвижная точка для $\Psi$.\\
    Если $\lambda=1$ не является собственным значением, то рассуждения сохраняют силу с $U=\{0\}$ и $W=V, t_u=\text{Id},\ \Psi=\Phi$ имеет неподвижную точку.
\end{proof}
Наблюдение: Если $\lambda=1$ - не собственное значение оператора $\phi$, то $\Phi$ имеет неподвижную точку. Если же $\lambda =1$ - собственное значение, $u_0$ - собственный вектор: $\phi(u_0)=u_0$, то все точки прямой
\[l=b+\langle u_0 \rangle\] 
неподвижны, а $\Psi$ определяется своим действием в гиперплоскости, ортогональной этой прямой:
\[P=b+\langle u_0 \rangle^{\perp}\]
\subsection{Классификация движений при n=1,2,3}
\begin{itemize}
    \item[$n=1$:] $\Phi$ - либо параллельный перенос, либо центральная симметрия относительно неподвижной точки.
    \item[$n=2$:] Координатная запись одна из следующих:
    \begin{enumerate}
        \item Параллельный перенос:
        \[\begin{cases}
            x'=x+a,\\
            y'=y+b
        \end{cases}
        \]
        \item Композиция параллельного переноса вдоль оси и симметрии относительно оси:
        \[
        \begin{cases}
            x'=x+a,\\
            y'=-y+b
        \end{cases} \Longrightarrow
        \begin{cases}
            \widetilde{x}'=x'+a,\\
            \widetilde{y}'=-y'
        \end{cases}
        \] 
        \item Поворот:
        \[
        \begin{cases}
            x'=x\cos{\alpha}-y\sin{\alpha}+a,\\
            y'=x\sin{\alpha}+y\cos{\alpha}+b
        \end{cases}
        \]
        Согласно общей теореме, существует неподвижная точка такая, что после переноса в эту точку остается только поворот.
    \end{enumerate}
    \item[$n=3$:] Четыре варианта в каноническом базисе для оператора $\phi$:
    \begin{enumerate}
        \item Параллельный перенос ($\lambda_{1,2,3}=1$)
        \[
        \begin{cases}
            x'=x+a,\\
            y'=y+b,\\
            z'=z+c
        \end{cases}
        \]
        \item $\lambda_{1,2}=1, \lambda_3=-1$
        \[
        \begin{cases}
            x'=x+a,\\
            y'=y+b,\\
            z'=-z+c
        \end{cases}
        \]
        Можно заменить координаты  $(x,y,z)\to(\xi, \eta, \zeta)$ и получить 
        \[
        \begin{cases}
            \xi'=\xi+a,\\
            \eta'=\eta+b,\\
            \zeta'=-\zeta
        \end{cases}
        \]
        - композиция ортогональной симметрии относительно плоскости $\xi=\eta=0$ и параллельного переноса на вектор $(a,b,0)$, параллельно этой плоскости.
        \item
        \[
        \begin{cases}
            x'=x\cos{\alpha}-y\sin{\alpha}+a,\\
            y'=x\sin{\alpha}+y\cos{\alpha}+b,\\
            z'=z+c
        \end{cases}
        \]
        Можно сделать замену координат $(x,y,z)\to(\xi, \eta, \zeta)$, чтобы осталось (упражнение):
        \[\begin{cases}
            \xi'=\xi\cos{\alpha}-\eta\sin{\alpha},\\
            \eta'=\xi\sin{\alpha}+\eta\cos{\alpha},\\
            \zeta'=\zeta+c
        \end{cases}
        \]
        - композиция поворота вокруг прямой, параллельной $(0,0,1)$, на угол $\alpha$ и переноса на вектор $(0,0,c)$ вдоль этой прямой (винтовое движение).
        \item
        \[\begin{cases}
            x'=x\cos{\alpha}-y\sin{\alpha}+a,\\
            y'=x\sin{\alpha}+y\cos{\alpha}+b,\\
            z'=-z+c
        \end{cases}
        \]
        Можно сделать замену координат $(x,y,z)\to(\xi, \eta, \zeta)$, чтобы осталось:
        \[
        \begin{cases}
            \xi'=\xi\cos{\alpha}-\eta\sin{\alpha},\\
            \eta'=\xi\sin{\alpha}+\eta\cos{\alpha},\\
            \zeta'=-\zeta+c
        \end{cases}
        \]
        что является композицией симметрии относительно плоскости $\zeta=c$, повотора вокруг прямой, перпендикулярной этой плоскости, и параллельного переноса на вектор $(0,0,c)$, который параллелен этой плоскости.
    \end{enumerate}
\end{itemize}


